// Select
//
// Replaces the browser default select with a custom one, mostly pulled from
// https://primer.github.io/.

.form-select {
  // scss-docs-start form-select-css-vars
  --#{$prefix}padding-x: #{$input-medium-padding-x};
  --#{$prefix}padding-y: #{$input-medium-padding-y};
  --#{$prefix}padding-end: 3em;
  --#{$prefix}min-height: #{$input-medium-height};
  --#{$prefix}gap: #{$badge-medium-gap};
  --#{$prefix}fg-color: #{$form-select-fg-color};
  --#{$prefix}bg-color: #{$form-select-bg-color};
  @include map-font($form-select-medium-font, input);
  --#{$prefix}border-color: #{$input-border-color};
  --#{$prefix}border-width: #{$input-border-width};
  --#{$prefix}border-radius: #{$input-medium-border-radius};

  --#{$prefix}form-select-bg-image: #{escape-svg($form-select-indicator)};
  // scss-docs-end form-select-css-vars

  display: block;
  width: 100%;
  //padding: $form-select-medium-padding-y $form-select-indicator-padding $form-select-medium-padding-y $form-select-medium-padding-x;
  @include box-padding();
  padding-right: var(--#{$prefix}padding-end);
  appearance: none; // Fix appearance for date inputs in Safari
  background-image: var(--#{$prefix}form-select-bg-image), var(--#{$prefix}form-select-bg-icon, none);
  background-repeat: no-repeat;
  background-position: $form-select-bg-position;
  background-clip: padding-box;
  background-size: $form-select-bg-size;

  // border: $form-select-border-width solid $form-select-border-color;
  // @include border-radius($form-select-medium-border-radius, 0);
  @include box-shadow($form-select-box-shadow);
  @include transition($form-select-transition);

  @extend %component;

  &.small {
    --#{$prefix}padding-y: #{$form-select-small-padding-y};
    --#{$prefix}padding-x: #{$form-select-small-padding-x};
    @include map-font-size($form-select-small-font, input);
    @include map-line-height($form-select-small-font, input);
    --#{$prefix}border-radius: #{$form-select-small-border-radius};
  }

  &.large {
    --#{$prefix}padding-y: #{$form-select-large-padding-y};
    --#{$prefix}padding-x: #{$form-select-large-padding-x};
    @include map-font-size($form-select-large-font, input);
    @include map-line-height($form-select-large-font, input);
    --#{$prefix}border-radius: #{$form-select-large-border-radius};
  }

  &:focus {
    --#{$prefix}border-color: #{$form-select-focus-border-color};
    //border-color: $form-select-focus-border-color;
    outline: 0;
    @if $enable-component-shadows {
      @include box-shadow($form-select-box-shadow, $form-select-focus-box-shadow);
    } @else {
      // Avoid using mixin so we can pass custom focus shadow properly
      box-shadow: $form-select-focus-box-shadow;
    }
  }

  &[multiple],
  &[size]:not([size="1"]) {
    padding-right: $form-select-medium-padding-x;
    background-image: none;
  }

  &:disabled {
    --#{$prefix}fg-color: #{$form-select-disabled-fg-color};
    --#{$prefix}bg-color: #{$form-select-disabled-bg-color};
    --#{$prefix}border-color: #{$form-select-disabled-border-color};
    // color: $form-select-disabled-fg-color;
    // background-color: $form-select-disabled-bg-color;
    // border-color: $form-select-disabled-border-color;
  }

  // Remove outline from select box in FF
  &:-moz-focusring {
    --#{$prefix}fg-color: transparent;
    //color: transparent;
    text-shadow: 0 0 0 $form-select-fg-color;
  }
}
